<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <script
    async
    crossorigin="anonymous"
    data-clerk-publishable-key="pk_test_Y2hhcm1lZC1ob3JuZXQtNjAuY2xlcmsuYWNjb3VudHMuZGV2JA"
    src="https://charmed-hornet-60.clerk.accounts.dev/npm/@clerk/clerk-js@5/dist/clerk.browser.js"
    type="text/javascript"
  ></script>
  <script>
    window.addEventListener('load', async function () {
      await Clerk.load();

      console.log('ClerkJS is loaded');
    });
  </script>

  <body>
    <h1>UNPROTECTED PAGE</h1>

    ipsom Lorem ipsum dolor sit amet consectetur adipisicing elit. Sapiente
    nihil mollitia, odio necessitatibus dolore quibusdam natus saepe. Eligendi
    distinctio corrupti laudantium, mollitia sed expedita dolores architecto
    totam reprehenderit suscipit aliquam.
    <a href="./protected"> PROTECTED PAGE </a>
    <div id="clerk-mount" />
    <script>
      window.addEventListener('load', async function () {
        await Clerk.load();

        if (Clerk.user) {
          document.getElementById('clerk-mount').innerHTML = `
        <div id="user-button"></div>
      `;

          const userButtonDiv = document.getElementById('user-button');

          Clerk.mountUserButton(userButtonDiv);
        } else {
          document.getElementById('clerk-mount').innerHTML = `
        <div id="sign-in"></div>
      `;

          const signInDiv = document.getElementById('sign-in');

          Clerk.openSignIn(signInDiv);
        }
      });
    </script>
  </body>
</html>
